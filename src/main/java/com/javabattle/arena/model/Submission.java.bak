package com.javabattle.arena.model;

import jakarta.persistence.*;
import java.time.LocalDateTime;

@Entity
@Table(name = "SUBMISSIONS")
public class Submission {
   
   @Id
   @GeneratedValue(strategy = GenerationType.IDENTITY)
   @SequenceGenerator(name = "submissions_seq", sequenceName = "SUBMISSIONS_SEQ", allocationSize = 1)
   @Column(name = "SUBMISSION_ID")
   private Long submissionId;
   
   @Column(name = "USER_ID", nullable = false)
   private Long userId;
   
   @Column(name = "PROBLEM_ID", nullable = false)
   private Long problemId;
   
   @Column(name = "CODE", nullable = false)
   @Lob
   private String code;
   
   @Column(name = "STATUS", length = 20)
   private String status = "PENDING";
   
   @Column(name = "SCORE")
   private Integer score = 0;
   
   @Column(name = "SUBMITTED_AT")
   private LocalDateTime submittedAt;
   
   public Submission() {
       this.submittedAt = LocalDateTime.now();
   }
   
   public Long getSubmissionId() { return submissionId; }
   public void setSubmissionId(Long submissionId) { this.submissionId = submissionId; }
   
   public Long getUserId() { return userId; }
   public void setUserId(Long userId) { this.userId = userId; }
   
   public Long getProblemId() { return problemId; }
   public void setProblemId(Long problemId) { this.problemId = problemId; }
   
   public String getCode() { return code; }
   public void setCode(String code) { this.code = code; }
   
   public String getStatus() { return status; }
   public void setStatus(String status) { this.status = status; }
   
   public Integer getScore() { return score; }
   public void setScore(Integer score) { this.score = score; }
   
   public LocalDateTime getSubmittedAt() { return submittedAt; }
   public void setSubmittedAt(LocalDateTime submittedAt) { this.submittedAt = submittedAt; }
}
